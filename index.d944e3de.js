var e=e=>document.querySelector(e);const t=e("#url-input-form"),n=e("#preview-url-wrapper"),r=e("#preview-card"),i=e("#preview-title"),a=e("#preview-image-wrapper"),o=e("#preview-image"),s=e("#preview-description");function l(e){r.setAttribute("aria-busy",e.toString())}function c(e){i.textContent=e.title,a.style.display="none",null!=e.image&&(o.src=e.image,a.style.display="block"),s.textContent=e.description}t.addEventListener("submit",(async e=>{e.preventDefault();const n=new FormData(t).get("url-input");location.href=`?url=${encodeURIComponent(n)}`})),window.addEventListener("load",(async()=>{const e=new URLSearchParams(window.location.search).get("url");if(null!=e){let t;try{t=new URL(e)}catch(e){return void c({title:"Invalid URL",description:"Please enter a valid URL."})}l(!0),n.textContent=t.href;try{await async function(e){const t=await async function(e){return fetch(`https://embtr.now.sh/scrape?url=${encodeURIComponent(e.href)}`).then((e=>e.json()))}(e);if(null!=t.message)throw new Error(t.message);c(t)}(t),n.textContent="";const e=document.createElement("a");e.href=t.href,e.textContent=t.href,n.appendChild(e)}catch(e){c({title:"Error",description:e.message})}finally{l(!1)}}else t.style.display="block",n.style.display="none",r.style.display="none"}));
//# sourceMappingURL=index.d944e3de.js.map
